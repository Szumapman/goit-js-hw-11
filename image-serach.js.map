{"version":3,"file":"image-serach.js","sources":["../src/js/get-pixabay-pictures.js","../src/js/create-gallery.js","../src/js/image-search.js"],"sourcesContent":["\"use strict\"\n\nconst pixabayApiKey = \"47865988-0e202f3c070f6317e288e8f49\"; // should be f.e. in .env file\n\nexport function getPictures(searchTerm) {\n    const searchParams = new URLSearchParams({\n        key: pixabayApiKey,\n        q: searchTerm,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }).catch(error => {\n            console.error(error);\n        });\n}","const createGalleryItem = ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n    const galleryItem = document.createElement(\"li\");\n    galleryItem.classList.add(\"gallery-item\");\n    galleryItem.innerHTML = `\n    <a href=\"${largeImageURL}\" class=\"gallery-item-link\">\n        <img class=\"gallery-item-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    </a>\n    <div class=\"info\">\n        <p class=\"info-item\">\n            <b>Likes</b>\n            ${likes}\n        </p>\n        <p class=\"info-item\">\n            <b>Views</b>\n            ${views}\n        </p>\n        <p class=\"info-item\">\n            <b>Comments</b>\n            ${comments}\n        </p>\n        <p class=\"info-item\">\n            <b>Downloads</b>\n            ${downloads}\n        </p>\n    </div>\n    `;\n    return galleryItem;\n};\n\nexport const createGallery = (images) => {\n    const imgs = images.map(createGalleryItem);\n\n    const fragment = document.createDocumentFragment();\n    fragment.append(...imgs);\n    return fragment;\n};","\"use strict\"\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getPictures } from \"./get-pixabay-pictures\";\nimport { createGallery } from \"./create-gallery\";\n\nconst form = document.querySelector(\".image-search-form\");\nconst gallery = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", evt => {\n    evt.preventDefault();\n    gallery.innerHTML = \"\";\n    const searchTerm = form.elements.searchTerm.value.trim();\n\n    getPictures(searchTerm).then(response => {\n        console.log(response);\n        if (response.totalHits === 0) {\n            noMatchingResults();\n            form.reset();\n            return;\n        }\n        gallery.appendChild(createGallery(response.hits));\n        form.reset();\n    });\n\n});\n\nfunction noMatchingResults() {\n    iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n    });\n}"],"names":["pixabayApiKey","getPictures","searchTerm","searchParams","response","error","createGalleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryItem","createGallery","images","imgs","fragment","form","gallery","evt","noMatchingResults","iziToast"],"mappings":"wIAEA,MAAMA,EAAgB,qCAEf,SAASC,EAAYC,EAAY,CACpC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAClD,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EAAE,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC/B,CAAS,CACT,CCtBA,MAAMC,EAAoB,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM,CAClG,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/C,OAAAA,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,UAAY;AAAA,eACbN,CAAa;AAAA,+CACmBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,cAK3DC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,cAIRC,CAAS;AAAA;AAAA;AAAA,MAIZC,CACX,EAEaC,EAAiBC,GAAW,CACrC,MAAMC,EAAOD,EAAO,IAAIV,CAAiB,EAEnCY,EAAW,SAAS,yBAC1B,OAAAA,EAAS,OAAO,GAAGD,CAAI,EAChBC,CACX,EC3BMC,EAAO,SAAS,cAAc,oBAAoB,EAClDC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,GAAO,CACnCA,EAAI,eAAc,EAClBD,EAAQ,UAAY,GACpB,MAAMlB,EAAaiB,EAAK,SAAS,WAAW,MAAM,OAElDlB,EAAYC,CAAU,EAAE,KAAKE,GAAY,CAErC,GADA,QAAQ,IAAIA,CAAQ,EAChBA,EAAS,YAAc,EAAG,CAC1BkB,IACAH,EAAK,MAAK,EACV,MACH,CACDC,EAAQ,YAAYL,EAAcX,EAAS,IAAI,CAAC,EAChDe,EAAK,MAAK,CAClB,CAAK,CAEL,CAAC,EAED,SAASG,GAAoB,CACzBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAClB,CAAK,CACL"}