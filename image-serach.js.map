{"version":3,"file":"image-serach.js","sources":["../src/js/get-pixabay-pictures.js","../src/js/create-pixabay-gallery.js","../src/js/image-search.js"],"sourcesContent":["\"use strict\"\n\nconst pixabayApiKey = \"47865988-0e202f3c070f6317e288e8f49\"; // should be f.e. in .env file\n\nexport function getPictures(searchTerm) {\n    const searchParams = new URLSearchParams({\n        key: pixabayApiKey,\n        q: searchTerm,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 15,\n    });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }).catch(error => {\n            console.error(error);\n        });\n}","const createGalleryItem = ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n    const galleryItem = document.createElement(\"li\");\n    galleryItem.classList.add(\"gallery-item\");\n    galleryItem.innerHTML = `\n    <a href=\"${largeImageURL}\" class=\"gallery-item-link\">\n        <img class=\"gallery-item-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    </a>\n    <ul class=\"info\">\n        <li>\n            <p class=\"info-item-title\">Likes</p>\n            <p class=\"info-item-stats\">${likes}</p>\n        </li>\n        <li>\n            <p class=\"info-item-title\">Views</p>\n            <p class=\"info-item-stats\">${views}</p>\n        </li>\n        <li>\n            <p class=\"info-item-title\">Comments</p>\n            <p class=\"info-item-stats\">${comments}</p>\n        </li>\n        <li>\n            <p class=\"info-item-title\">Downloads</p>\n            <p class=\"info-item-stats\">${downloads}</p>\n        </li>            \n    </ul>\n    `;\n    return galleryItem;\n};\n\nexport const createGallery = (images) => {\n    const imgs = images.map(createGalleryItem);\n\n    const fragment = document.createDocumentFragment();\n    fragment.append(...imgs);\n    return fragment;\n};","\"use strict\"\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// to use a different image source, just create new functions getPictures and createGallery and change these two imports\nimport { getPictures } from \"./get-pixabay-pictures\"; \nimport { createGallery } from \"./create-pixabay-gallery\";\n\nconst form = document.querySelector(\".image-search-form\");\nconst gallery = document.querySelector(\".gallery\");\nconst modalLightbox = new SimpleLightbox(\".gallery-item-link\", {\n    captions: true,\n    captionsData: \"alt\",\n    captionDelay: 250,  \n});\n\nform.addEventListener(\"submit\", evt => {\n    evt.preventDefault();\n    gallery.innerHTML = \"\";\n    const searchTerm = form.elements.searchTerm.value.trim();\n\n    getPictures(searchTerm).then(response => {\n        if (response.totalHits === 0) {\n            noMatchingResults();\n            form.reset();\n            return;\n        }\n        gallery.appendChild(createGallery(response.hits));\n        modalLightbox.refresh();\n        form.reset();\n    });\n\n});\n\nfunction noMatchingResults() {\n    iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n    });\n}\n"],"names":["pixabayApiKey","getPictures","searchTerm","searchParams","response","error","createGalleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryItem","createGallery","images","imgs","fragment","form","gallery","modalLightbox","SimpleLightbox","evt","noMatchingResults","iziToast"],"mappings":"+IAEA,MAAMA,EAAgB,qCAEf,SAASC,EAAYC,EAAY,CACpC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAClB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAClD,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EAAE,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC/B,CAAS,CACT,CCvBA,MAAMC,EAAoB,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM,CAClG,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/C,OAAAA,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,UAAY;AAAA,eACbN,CAAa;AAAA,+CACmBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yCAKhCC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,MAIvCC,CACX,EAEaC,EAAiBC,GAAW,CACrC,MAAMC,EAAOD,EAAO,IAAIV,CAAiB,EAEnCY,EAAW,SAAS,yBAC1B,OAAAA,EAAS,OAAO,GAAGD,CAAI,EAChBC,CACX,ECxBMC,EAAO,SAAS,cAAc,oBAAoB,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAgB,IAAIC,EAAe,qBAAsB,CAC3D,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,GAAO,CACnCA,EAAI,eAAc,EAClBH,EAAQ,UAAY,GACpB,MAAMlB,EAAaiB,EAAK,SAAS,WAAW,MAAM,OAElDlB,EAAYC,CAAU,EAAE,KAAKE,GAAY,CACrC,GAAIA,EAAS,YAAc,EAAG,CAC1BoB,IACAL,EAAK,MAAK,EACV,MACH,CACDC,EAAQ,YAAYL,EAAcX,EAAS,IAAI,CAAC,EAChDiB,EAAc,QAAO,EACrBF,EAAK,MAAK,CAClB,CAAK,CAEL,CAAC,EAED,SAASK,GAAoB,CACzBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAClB,CAAK,CACL"}